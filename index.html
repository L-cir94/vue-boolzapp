<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script defer src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.min.js"></script>
    <link rel="stylesheet" href="./assets/CSS/style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script defer src="./assets/Js/app.js"></script>
    <link defer href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VueBoolzap</title>
</head>

<body class="my_body">
    <header id="app_header">

    </header>
    <!-- /#app_header -->
    <main id="app_main" class="">
        <div class="container">
            <div id="app" class="my_app d-flex">
                <div class="contacts d-flex flex-column overflow-hidden">
                    <div class="contacts_top d-flex justify-content-between align-items-center">
                        <div class="image_contacts d-flex align-items-center">
                            <img class="img-fluid rounded-circle ms-2" width="40" :src="`${me.avatar}`" alt="">
                            <div class="descriptions d-flex flex-column ms-2 mb-2">
                                <h6> <strong>{{me.name}}</strong></h6>
                            </div>
                        </div>
                        <div class="actions_contacts me-3 d-flex align-items-center">
                            <a href="#"> <i class="fa-solid fa-circle-notch mx-1"></i></a>
                            <a href="#"> <i class="fa-solid fa-message mx-1"></i></a>
                            <a href="#"> <i class="fa-solid fa-ellipsis-vertical mx-2"></i></a>
                        </div>

                    </div>
                    <div class="notifications d-flex align-items-center p-3 ">
                        <div class="ico">
                            <a href="#"><i class="fa-solid fa-bell-slash rounded-circle bg-white p-3"></i></a>
                        </div>
                        <div class="ico_text ms-2">
                            <h6 class="">Ricevi notifiche di nuovi messaggi</h6>
                            <a href="#">Attiva notifiche desktop</a>
                        </div></a>
                    </div>
                    <nav class="mt-2">
                        <div class="container-fluid">
                                <input class="w-100 ps-4" type="text"
                                    placeholder="  Cerca o inizia una nuova chat" v-model="nameFilter" @keyup="searchList">
                                <i class="fa-solid fa-magnifying-glass"></i>
                        </div>
                    </nav>
                    <div class="open_chats p-4 overflow-auto">
                        <div class="d-flex flex-column gap-4" >
                            <div @click="chatUserClick(index)" class="contatto d-flex align-items-center" :class="index === activeChat ? active : '' " v-for="(contact, index) in contacts" >
                                <div class="utente_ricercato" v-show="contact.visible" >
                                    <img width="45" class="rounded-5" :src="contact.avatar"
                                    alt="" :class=>
                                <span class="ms-3">{{contact.name}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="message d-flex justify-content-between flex-column ">
                    <div class="message_top ">
                        <div class="contact d-flex align-items-start justify-content-between mt-2">
                            <div class="image_contacts d-flex align-items-center ">
                                <a href="#"><img class="img-fluid rounded-circle ms-2" width="35"
                                        :src="contacts[activeChat].avatar" alt=""></a>
                                <div class="descriptions d-flex flex-column justify-content-center ms-2">
                                    <span class="mt-0 mb-2 chat_active"><strong>{{contacts[activeChat].name}}</strong></span>
                                    <p class="mb-2">Ultimo accesso oggi alle 10:20</p>
                                </div>
                            </div>
                            <div class="actions_contacts me-3">
                                <a href="#"> <i class="fa-solid fa-magnifying-glass mx-1"></i></a>
                                <a href="#"> <i class="fa-solid fa-paperclip mx-1"></i></a>
                                <a href="#"> <i class="fa-solid fa-ellipsis-vertical mx-2"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="chatbox overflow-auto">
                        <div class="chatbox d-flex flex-column p-4 " v-for="message in contacts[activeChat].messages">

                            <div class="rounded-2  m-2 d-flex flex-column" :class="message.status ">
                                {{message.message}}
                                <span class="mt-2">{{message.date}}</span>
                            </div>
                        </div>
                    </div>


                    <div class="message_bottom d-flex align-items-center">
                        <a href="#"> <i class="fa-regular fa-face-smile mx-4"></i></a>
                        <div class="container-fluid">
                            <input class="input w-100 rounded-5 ps-3" type="text" placeholder="  Scrivi il tuo messaggio qui"
                                v-model="newMessage" @keyup.enter="addNewMessage">
                            <!--                                 <button class="ms-4" @click="createNewMessage">Invia</button> -->
                        </div>
                        <a href="#"><i class="fa-solid fa-microphone me-4 ms-2"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- /#app_main -->
</body>

</html>